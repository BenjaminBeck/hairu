<f:layout name="Default"/>
<f:section name="main">

<f:flashMessages renderMode="div"/>

<f:if condition="{hash}">
  <f:then>

    <f:form
      action="completePasswordReset"
      class="password-reset form-inline">

      <f:form.hidden name="hash" value="{hash}"/>

      <f:render partial="Form/TextField" arguments="{
        fieldName: 'password',
        fieldType: 'password',
        translationKey: 'password',
        defaultLabel: 'Password'
      }"/>

      <f:render partial="Form/TextField" arguments="{
        fieldName: 'passwordRepeat',
        fieldType: 'password',
        translationKey: 'passwordRepeat',
        defaultLabel: 'Repeat password'
      }"/>

      <f:render partial="Form/SubmitButton" arguments="{
        translationKey: 'action.setPassword',
        defaultLabel: 'Set new password'
      }"/>

    </f:form>

  </f:then>
  <f:else>

    <f:form
      action="startPasswordReset"
      class="password-reset form-inline">

      <f:render partial="Form/TextField" arguments="{
        fieldName: 'username',
        fieldType: 'text',
        translationKey: 'username',
        defaultLabel: 'Username',
        inline: true
      }"/>

      <f:render partial="Form/SubmitButton" arguments="{
        translationKey: 'action.resetPassword',
        defaultLabel: 'Reset password'
      }"/>

    </f:form>

  </f:else>
</f:if>

</f:section>
